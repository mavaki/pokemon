{"ast":null,"code":"\"use strict\";\n\nvar _Object$defineProperty = require(\"@babel/runtime-corejs3/core-js-stable/object/define-property\");\nvar _interopRequireDefault = require(\"@babel/runtime-corejs3/helpers/interopRequireDefault\");\n_Object$defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _stringify = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/json/stringify\"));\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/defineProperty\"));\nclass XhrWeapp {\n  constructor() {\n    (0, _defineProperty2.default)(this, \"UNSENT\", void 0);\n    (0, _defineProperty2.default)(this, \"OPENED\", void 0);\n    (0, _defineProperty2.default)(this, \"HEADERS_RECEIVED\", void 0);\n    (0, _defineProperty2.default)(this, \"LOADING\", void 0);\n    (0, _defineProperty2.default)(this, \"DONE\", void 0);\n    (0, _defineProperty2.default)(this, \"header\", void 0);\n    (0, _defineProperty2.default)(this, \"readyState\", void 0);\n    (0, _defineProperty2.default)(this, \"status\", void 0);\n    (0, _defineProperty2.default)(this, \"response\", void 0);\n    (0, _defineProperty2.default)(this, \"responseType\", void 0);\n    (0, _defineProperty2.default)(this, \"responseText\", void 0);\n    (0, _defineProperty2.default)(this, \"responseHeader\", void 0);\n    (0, _defineProperty2.default)(this, \"method\", void 0);\n    (0, _defineProperty2.default)(this, \"url\", void 0);\n    (0, _defineProperty2.default)(this, \"onabort\", void 0);\n    (0, _defineProperty2.default)(this, \"onprogress\", void 0);\n    (0, _defineProperty2.default)(this, \"onerror\", void 0);\n    (0, _defineProperty2.default)(this, \"onreadystatechange\", void 0);\n    (0, _defineProperty2.default)(this, \"requestTask\", void 0);\n    this.UNSENT = 0;\n    this.OPENED = 1;\n    this.HEADERS_RECEIVED = 2;\n    this.LOADING = 3;\n    this.DONE = 4;\n    this.header = {};\n    this.readyState = this.DONE;\n    this.status = 0;\n    this.response = '';\n    this.responseType = '';\n    this.responseText = '';\n    this.responseHeader = {};\n    this.method = '';\n    this.url = '';\n    this.onabort = () => {};\n    this.onprogress = () => {};\n    this.onerror = () => {};\n    this.onreadystatechange = () => {};\n    this.requestTask = null;\n  }\n  getAllResponseHeaders() {\n    let header = '';\n    for (const key in this.responseHeader) {\n      header += key + ':' + this.getResponseHeader(key) + '\\r\\n';\n    }\n    return header;\n  }\n  getResponseHeader(key) {\n    return this.responseHeader[key];\n  }\n  setRequestHeader(key, value) {\n    this.header[key] = value;\n  }\n  open(method, url) {\n    this.method = method;\n    this.url = url;\n  }\n  abort() {\n    if (!this.requestTask) {\n      return;\n    }\n    this.requestTask.abort();\n    this.status = 0;\n    this.response = undefined;\n    this.onabort();\n    this.onreadystatechange();\n  }\n  send(data) {\n    // @ts-ignore\n    this.requestTask = wx.request({\n      url: this.url,\n      method: this.method,\n      data: data,\n      header: this.header,\n      responseType: this.responseType,\n      success: res => {\n        this.status = res.statusCode;\n        this.response = res.data;\n        this.responseHeader = res.header;\n        this.responseText = (0, _stringify.default)(res.data);\n        this.requestTask = null;\n        this.onreadystatechange();\n      },\n      fail: err => {\n        this.requestTask = null;\n        // @ts-ignore\n        this.onerror(err);\n      }\n    });\n    this.requestTask.onProgressUpdate(res => {\n      const event = {\n        lengthComputable: res.totalBytesExpectedToWrite !== 0,\n        loaded: res.totalBytesWritten,\n        total: res.totalBytesExpectedToWrite\n      };\n      // @ts-ignore\n      this.onprogress(event);\n    });\n  }\n}\nmodule.exports = XhrWeapp;\nvar _default = exports.default = XhrWeapp;","map":{"version":3,"names":["_Object$defineProperty","require","_interopRequireDefault","exports","value","default","_stringify","_defineProperty2","XhrWeapp","constructor","UNSENT","OPENED","HEADERS_RECEIVED","LOADING","DONE","header","readyState","status","response","responseType","responseText","responseHeader","method","url","onabort","onprogress","onerror","onreadystatechange","requestTask","getAllResponseHeaders","key","getResponseHeader","setRequestHeader","open","abort","undefined","send","data","wx","request","success","res","statusCode","fail","err","onProgressUpdate","event","lengthComputable","totalBytesExpectedToWrite","loaded","totalBytesWritten","total","module","_default"],"sources":["/home/mavrik/Documents/classes/web-dev/feature05/node_modules/parse/lib/browser/Xhr.weapp.js"],"sourcesContent":["\"use strict\";\n\nvar _Object$defineProperty = require(\"@babel/runtime-corejs3/core-js-stable/object/define-property\");\nvar _interopRequireDefault = require(\"@babel/runtime-corejs3/helpers/interopRequireDefault\");\n_Object$defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _stringify = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/json/stringify\"));\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/defineProperty\"));\nclass XhrWeapp {\n  constructor() {\n    (0, _defineProperty2.default)(this, \"UNSENT\", void 0);\n    (0, _defineProperty2.default)(this, \"OPENED\", void 0);\n    (0, _defineProperty2.default)(this, \"HEADERS_RECEIVED\", void 0);\n    (0, _defineProperty2.default)(this, \"LOADING\", void 0);\n    (0, _defineProperty2.default)(this, \"DONE\", void 0);\n    (0, _defineProperty2.default)(this, \"header\", void 0);\n    (0, _defineProperty2.default)(this, \"readyState\", void 0);\n    (0, _defineProperty2.default)(this, \"status\", void 0);\n    (0, _defineProperty2.default)(this, \"response\", void 0);\n    (0, _defineProperty2.default)(this, \"responseType\", void 0);\n    (0, _defineProperty2.default)(this, \"responseText\", void 0);\n    (0, _defineProperty2.default)(this, \"responseHeader\", void 0);\n    (0, _defineProperty2.default)(this, \"method\", void 0);\n    (0, _defineProperty2.default)(this, \"url\", void 0);\n    (0, _defineProperty2.default)(this, \"onabort\", void 0);\n    (0, _defineProperty2.default)(this, \"onprogress\", void 0);\n    (0, _defineProperty2.default)(this, \"onerror\", void 0);\n    (0, _defineProperty2.default)(this, \"onreadystatechange\", void 0);\n    (0, _defineProperty2.default)(this, \"requestTask\", void 0);\n    this.UNSENT = 0;\n    this.OPENED = 1;\n    this.HEADERS_RECEIVED = 2;\n    this.LOADING = 3;\n    this.DONE = 4;\n    this.header = {};\n    this.readyState = this.DONE;\n    this.status = 0;\n    this.response = '';\n    this.responseType = '';\n    this.responseText = '';\n    this.responseHeader = {};\n    this.method = '';\n    this.url = '';\n    this.onabort = () => {};\n    this.onprogress = () => {};\n    this.onerror = () => {};\n    this.onreadystatechange = () => {};\n    this.requestTask = null;\n  }\n  getAllResponseHeaders() {\n    let header = '';\n    for (const key in this.responseHeader) {\n      header += key + ':' + this.getResponseHeader(key) + '\\r\\n';\n    }\n    return header;\n  }\n  getResponseHeader(key) {\n    return this.responseHeader[key];\n  }\n  setRequestHeader(key, value) {\n    this.header[key] = value;\n  }\n  open(method, url) {\n    this.method = method;\n    this.url = url;\n  }\n  abort() {\n    if (!this.requestTask) {\n      return;\n    }\n    this.requestTask.abort();\n    this.status = 0;\n    this.response = undefined;\n    this.onabort();\n    this.onreadystatechange();\n  }\n  send(data) {\n    // @ts-ignore\n    this.requestTask = wx.request({\n      url: this.url,\n      method: this.method,\n      data: data,\n      header: this.header,\n      responseType: this.responseType,\n      success: res => {\n        this.status = res.statusCode;\n        this.response = res.data;\n        this.responseHeader = res.header;\n        this.responseText = (0, _stringify.default)(res.data);\n        this.requestTask = null;\n        this.onreadystatechange();\n      },\n      fail: err => {\n        this.requestTask = null;\n        // @ts-ignore\n        this.onerror(err);\n      }\n    });\n    this.requestTask.onProgressUpdate(res => {\n      const event = {\n        lengthComputable: res.totalBytesExpectedToWrite !== 0,\n        loaded: res.totalBytesWritten,\n        total: res.totalBytesExpectedToWrite\n      };\n      // @ts-ignore\n      this.onprogress(event);\n    });\n  }\n}\nmodule.exports = XhrWeapp;\nvar _default = exports.default = XhrWeapp;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}